<div class="flex flex-wrap gap-4 px-10 py-2">
  <div class="lg:w3/12">
    <h6>Filters</h6>
    <div class="flex flex-col w-full">
      <div class="w-full p-2 mb-4">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Category</mat-label>
          <mat-select
            [(value)]="selectedCategory"
            (selectionChange)="onCategoryChange()"
          >
            <mat-option value=""> Not Specified </mat-option>
            @for (category of categories; track $index) {
            <mat-option [value]="category._id">
              {{ category.name }}
            </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <div class="w-full p-2 mb-4">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Brand</mat-label>
          <mat-select
            [(value)]="selectedBrand"
            (selectionChange)="onBrandChange()"
          >
            <mat-option value=""> Not Specified </mat-option>
            @for (brand of brands; track $index) {
            <mat-option [value]="brand._id">
              {{ brand.name }}
            </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="flex-1">
    <div class="flex justify-between flex-wrap">
      <h6>Products</h6>
      <mat-form-field appearance="fill" class="w-40">
        <mat-label>Order By</mat-label>
        <mat-select [(value)]="order" (selectionChange)="orderChange()">
          <mat-option value="-1">high to low price </mat-option>
          <mat-option value="1"> Low to high price </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="flex flex-wrap flex-1 gap-8">
      @for (product of products; track $index) {
      <div
        class="w-full shadow-lg flex flex-wrap flex-1 gap-8 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5"
      >
        <app-product-card [product]="product"></app-product-card>
      </div>
      }@empty {
      <h6>No products found</h6>
      }
    </div>
    <div class="flex gap-4 my-4">
      <button
        mat-raised-button
        color="primary"
        [disabled]="page <= 1"
        (click)="pageChangePrevious()"
      >
        Previous
      </button>
      <button
        mat-raised-button
        color="primary"
        [disabled]="isNextPage"
        (click)="pageChangeNext()"
      >
        Next
      </button>
    </div>
  </div>
</div>
